# CVE-2023-7028 with Docker

ðŸŽ¯ Want to practice with the new gitlab CVE ? Follow the instructions

## Build the lab

1. Install Docker : https://docs.docker.com/get-docker/
2. Clone the project : `git clone https://github.com/Trackflaw/CVE-2023-7028-Docker.git`.
3. Go to the project : `cd CVE-2023-7028-Docker `
4. Configure the Gitlab SMTP on `docker-compose.yml`.
5. Change `external_url 'http://gitlab.domain.com'` and `hostname: 'gitlab.domain.com'` with your domain (internal/external no care).
6. Launch the Docker Compose file : `docker compose up -d`.
7. Connect on `http://localhost` 
   - Username : `admin` 
   - Password : `Tr4ckfl4w4th3W1n`
8. Create an account to compromise with a valid mail adress.

## PoC

A Proof of Concept video is available on Trackflaw blog : https://blog.trackflaw.com/en/compromise-gitlab-accounts-with-cve-2023-7028/

[ðŸ“¹ Video link](https://blog.trackflaw.com/images/compromettre-comptes-Gitlab-avec-CVE-2023-7028/exploit.mp4)

## Automation

Many PoCs are available online to automate the exploitation of this vulnerability:

- Made by a talented French enthusiast: https://github.com/Vozec/CVE-2023-7028
- https://github.com/V1lu0/CVE-2023-7028
